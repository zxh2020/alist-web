var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,o=(e,o)=>{for(var l in o||(o={}))a.call(o,l)&&r(e,l,o[l]);if(t)for(var l of t(o))n.call(o,l)&&r(e,l,o[l]);return e};import{_ as l}from"./index.bc788cc5.js";import{G as s,e as c,O as m,f as i,h as p,j as d,k as h,l as u,m as g}from"./index.1a375fd9.js";import{D as f}from"./index.esm.5e7f2bbc.js";import{k as E,j as b,$ as z,D as y,u as x,h as v,r as _,R as w,n as O,l as S,a0 as j,E as C,a1 as k,F as A,Q as M,t as $,s as W,T as P,C as R,S as T,b as D,L as I,z as V,a2 as L}from"./vendor.a4c78c95.js";import{u as B}from"./useTitle.c616e87e.js";function H(e){return s({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.002 3h-14c-1.103 0-2 .897-2 2v4h2V5h14v14h-14v-4h-2v4c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.898-2-2-2z"}},{tag:"path",attr:{d:"m11 16 5-4-5-4v3.001H3v2h8z"}}]})(e)}const F=_.exports.lazy((()=>l((()=>import("./login.2ee27f46.js")),["assets/login.2ee27f46.js","assets/vendor.a4c78c95.js","assets/index.1a375fd9.js","assets/index.bc788cc5.js"]))),X=_.exports.lazy((()=>l((()=>import("./settings.0daff91b.js")),["assets/settings.0daff91b.js","assets/vendor.a4c78c95.js","assets/index.1a375fd9.js","assets/index.bc788cc5.js","assets/form-item.ef29a63f.js"]))),Y=[{name:"Settings",to:"settings",icon:h,children:[{name:"Frontend",to:"settings/0",component:X},{name:"Backend",to:"settings/1",component:X}]},{name:"Accounts",to:"accounts",icon:u,component:_.exports.lazy((()=>l((()=>import("./accounts.c2b27f7b.js")),["assets/accounts.c2b27f7b.js","assets/vendor.a4c78c95.js","assets/index.1a375fd9.js","assets/index.bc788cc5.js","assets/form-item.ef29a63f.js"])))},{name:"Meta",to:"meta",icon:function(e){return s({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M5.385 6.136c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-1.438 2.63c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.465-2.63c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.499-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm-1.088 5.592c.794 0 1.438-.654 1.438-1.461s-.644-1.461-1.438-1.461-1.438.654-1.438 1.461.643 1.461 1.438 1.461zm5.464-5.592c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111S11.4 7.247 12 7.247s1.088-.498 1.088-1.111zm.35-4.675c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461S11.206 0 12 0s1.438.654 1.438 1.461zm-.35 0C13.088.848 12.6.35 12 .35s-1.088.498-1.088 1.111S11.4 2.572 12 2.572s1.088-.498 1.088-1.111zm.35 8.806c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.499 1.088-1.111zm4.376-4.131c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939 1.461c.794 0 1.438-.654 1.438-1.461s-.644-1.461-1.438-1.461-1.438.654-1.438 1.461.644 1.461 1.438 1.461zm-4.027 1.209c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.643-1.461-1.438-1.461zm4.027 0c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zM3.947 12.857a1.45 1.45 0 0 0-1.438 1.461c0 .807.644 1.461 1.438 1.461s1.438-.654 1.438-1.461a1.45 1.45 0 0 0-1.438-1.461zm5.465 1.5c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.655 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zM12 12.896c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.464 1.461c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.655 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939-1.461c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zM3.947 16.948c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.465 1.5c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm4.376 0c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm.35 4.091c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111S11.4 23.65 12 23.65s1.088-.498 1.088-1.111zm4.376-4.091c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939-1.461c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461z"}}]})(e)},component:_.exports.lazy((()=>l((()=>import("./metas.fc5dd6a3.js")),["assets/metas.fc5dd6a3.js","assets/vendor.a4c78c95.js","assets/index.1a375fd9.js","assets/index.bc788cc5.js","assets/form-item.ef29a63f.js"])))}],G=(e,t=[])=>(e.forEach((e=>{t.push(e),e.children&&G(e.children,t)})),t);function N(){const e={};for(const t of Y)t.children&&(e[t.name]=E());const r=E(),{t:l}=b(),s=z(),h=y(),u=x(),X=v();B(l("Alist Manage")),_.exports.useEffect((()=>{c.get("login").then((e=>{const t=e.data;let a=s.url;a.endsWith("/")||(a+="/"),401===t.code?h.push(`${a}login`):s.url===u.pathname&&h.push(`${a}settings/0`)}))}),[u.pathname]);const N=e=>{const c=e,{icon:m,children:i}=c,p=((e,r)=>{var o={};for(var l in e)a.call(e,l)&&r.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&t)for(var l of t(e))r.indexOf(l)<0&&n.call(e,l)&&(o[l]=e[l]);return o})(c,["icon","children"]),d=e.to?I:O;return w.createElement(d,{to:`${s.url}/${e.to}`,onClick:()=>{e.to&&(document.title=`${i} - ${l("Alist Manage")}`,r.onClose())}},w.createElement(A,o({align:"center",px:"4",pl:"8",py:"3",cursor:"pointer",color:S("inherit","gray.400"),_hover:{bg:S("gray.100","gray.900"),color:S("gray.900","gray.200")},role:"group",fontWeight:"semibold",transition:".15s ease"},p),m&&w.createElement(W,{mr:"2",boxSize:"4",_groupHover:{color:S("gray.600","gray.300")},as:m}),i))},Q=t=>w.createElement(O,o({as:"nav",pos:"fixed",top:"0",left:"0",zIndex:"sticky",h:"full",pb:"10",overflowX:"hidden",overflowY:"auto",bg:S("white","gray.800"),borderColor:S("inherit","gray.700"),borderRightWidth:"1px",w:"48",shadow:"md"},t),w.createElement(I,{to:"/@manage"},w.createElement(A,{px:"4",py:"5",align:"center"},w.createElement(V,{fontSize:"2xl",ml:"2",color:S("brand.500","white"),fontWeight:"semibold"},"Alist ",l("Manage")))),w.createElement(A,{direction:"column",as:"nav",fontSize:"sm",color:"gray.600","aria-label":"Main Navigation"},Y.map((t=>t.children?w.createElement(O,{key:t.name},w.createElement(N,{icon:t.icon,onClick:e[t.name].onToggle},l(t.name),w.createElement(W,{as:g,ml:"auto",transform:e[t.name].isOpen?"rotate(90deg)":""})),w.createElement(L,{in:e[t.name].isOpen},t.children.map((e=>w.createElement(N,{pl:"12",py:"2",to:e.to,icon:e.icon,key:e.name},l(e.name)))))):w.createElement(N,{to:t.to,icon:t.icon,key:t.name},l(t.name))))));return w.createElement(O,{as:"section",bg:S("gray.50","gray.700"),minH:"100vh"},w.createElement(m,null),w.createElement(Q,{display:{base:"none",md:"unset"}}),w.createElement(j,{isOpen:r.isOpen,onClose:r.onClose,placement:"left"},w.createElement(C,null),w.createElement(k,null,w.createElement(Q,{w:"full",borderRight:"none"}))),w.createElement(O,{ml:{base:0,md:48},transition:".3s ease"},w.createElement(A,{as:"header",align:"center",justify:"space-between",w:"full",px:"4",bg:S("white","gray.800"),borderBottomWidth:"1px",borderColor:S("inherit","gray.700"),h:"14",shadow:"md"},w.createElement(M,{"aria-label":"Menu",display:{base:"inline-flex",md:"none"},onClick:r.onOpen,icon:w.createElement(i,null),size:"sm"}),w.createElement(O,{w:"96",display:{base:"none",md:"flex"}}),w.createElement(A,{align:"center"},w.createElement($,{href:"https://github.com/Xhofe/alist",isExternal:!0},w.createElement(W,{boxSize:6,color:"gray.500",as:f,cursor:"pointer"})),w.createElement(P,{shouldWrapChildren:!0,hasArrow:!0,placement:"bottom",label:l("clear buffer")},w.createElement(M,{colorScheme:"whiteAlpha","aria-label":l("clear buffer"),icon:w.createElement(W,{boxSize:6,color:"gray.500",as:p}),onClick:()=>{c.get("clear_cache").then((e=>{const t=e.data;200===t.code?X({title:l(t.message),status:"success",duration:3e3,isClosable:!0}):X({title:l(t.message),status:"error",duration:3e3,isClosable:!0})}))}})),w.createElement(P,{shouldWrapChildren:!0,hasArrow:!0,placement:"bottom",label:l("logout")},w.createElement(M,{onClick:()=>{d(""),h.push(`${s.url}/login`)},colorScheme:"blank","aria-label":l("logout"),icon:w.createElement(W,{boxSize:6,color:"gray.500",as:H})})))),w.createElement(O,{as:"main",p:"2"},w.createElement(O,{borderWidth:"1px",borderStyle:"dashed",rounded:"md",h:"calc( 100vh - 80px)",overflowY:"auto",p:"2"},w.createElement(_.exports.Suspense,{fallback:w.createElement(R,{h:"full"},w.createElement(T,null))},G(Y).map((e=>e.component&&w.createElement(D,{path:`${s.url}/${e.to}`,key:e.name},w.createElement(e.component,null)))),w.createElement(D,{path:`${s.url}/login`},w.createElement(F,null)))))))}export{N as default};
