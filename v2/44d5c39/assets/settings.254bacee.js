var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,n=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&l(e,a,t[a]);if(s)for(var a of s(t))o.call(t,a)&&l(e,a,t[a]);return e},i=(e,s)=>t(e,a(s));import{h as p,j as u,r as c,u as d,R as m,l as y,ag as v,F as b,A as f}from"./vendor.630a5f1f.js";import{e as g}from"./index.e5c5835c.js";import{F as j}from"./form-item.dae95e29.js";import"./index.0925dbcc.js";const O=()=>{const e=p(),{t:t}=u(),[a,s]=c.exports.useState([]),{pathname:r}=d(),o=()=>{g.get("settings",{params:{group:parseInt(r.split("/").pop()||"0")}}).then((a=>{const r=a.data;200!==r.code?e({title:t(r.message),status:"error",duration:3e3,isClosable:!0}):s(r.data)}))};return c.exports.useEffect((()=>{o()}),[]),m.createElement(y,{w:"full"},m.createElement(v,{minChildWidth:"400px",spacing:"2"},a.map((r=>{var l,p;return m.createElement(j,{key:r.key,type:r.type,label:r.key,value:"bool"===r.type?"true"===r.value:r.value,readOnly:2===r.group,values:null==(l=r.values)?void 0:l.split(","),description:`${t(r.description)}(${t(0===r.group?"public":1===r.group?"private":"readonly")})`,onChange:e=>{s(a.map((t=>t.key===r.key?"bool"!==r.type?i(n({},t),{value:e}):i(n({},t),{value:"true"===r.value?"false":"true"}):t)))},onDelete:r.version===(null==(p=a.find((e=>"version"===e.key)))?void 0:p.value)?void 0:()=>{g.delete("setting",{params:{key:r.key}}).then((a=>{const s=a.data;200!==s.code?e({title:t(s.message),status:"error",duration:3e3,isClosable:!0}):(e({title:t(s.message),status:"success",duration:3e3,isClosable:!0}),o())}))}})}))),m.createElement(b,{mt:"2",justify:"end"},m.createElement(f,{onClick:()=>{g.post("settings",a).then((a=>{const s=a.data;200!==s.code?e({title:t(s.message),status:"error",duration:3e3,isClosable:!0}):e({title:t(s.message),status:"success",duration:3e3,isClosable:!0})}))}},t("save"))))};export{O as default};
