var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&l(e,s,t[s]);if(a)for(var s of a(t))o.call(t,s)&&l(e,s,t[s]);return e},i=(e,a)=>t(e,s(a));import{h as p,j as u,r as c,u as d,R as m,n as y,ag as v,F as b,A as f}from"./vendor.a4c78c95.js";import{e as g}from"./index.91978b09.js";import{F as j}from"./form-item.c387ee6f.js";import"./index.88d6098f.js";const O=()=>{const e=p(),{t:t}=u(),[s,a]=c.exports.useState([]),{pathname:r}=d(),o=()=>{g.get("settings",{params:{group:parseInt(r.split("/").pop()||"0")}}).then((s=>{const r=s.data;200!==r.code?e({title:t(r.message),status:"error",duration:3e3,isClosable:!0}):a(r.data)}))};return c.exports.useEffect((()=>{o()}),[]),m.createElement(y,{w:"full"},m.createElement(v,{minChildWidth:"400px",spacing:"2"},s.map((r=>{var l,p;return m.createElement(j,{key:r.key,type:r.type,label:r.key,value:"bool"===r.type?"true"===r.value:r.value,readOnly:2===r.group,values:null==(l=r.values)?void 0:l.split(","),description:`${t(r.description)}(${t(0===r.group?"public":1===r.group?"private":"readonly")})`,onChange:e=>{a(s.map((t=>t.key===r.key?"bool"!==r.type?i(n({},t),{value:e}):i(n({},t),{value:"true"===r.value?"false":"true"}):t)))},onDelete:r.version===(null==(p=s.find((e=>"version"===e.key)))?void 0:p.value)?void 0:()=>{g.delete("setting",{params:{key:r.key}}).then((s=>{const a=s.data;200!==a.code?e({title:t(a.message),status:"error",duration:3e3,isClosable:!0}):(e({title:t(a.message),status:"success",duration:3e3,isClosable:!0}),o())}))}})}))),m.createElement(b,{mt:"2",justify:"end"},m.createElement(f,{onClick:()=>{g.post("settings",s).then((s=>{const a=s.data;200!==a.code?e({title:t(a.message),status:"error",duration:3e3,isClosable:!0}):e({title:t(a.message),status:"success",duration:3e3,isClosable:!0})}))}},t("save"))))};export{O as default};
